{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/global.service\";\nimport * as i2 from \"@angular/common\";\nfunction UsersComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3);\n    i0.ɵɵelement(2, \"i\", 4);\n    i0.ɵɵelementStart(3, \"h5\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"hr\");\n    i0.ɵɵelementStart(6, \"h6\", 5);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h6\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"h6\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 6)(13, \"div\", 7)(14, \"a\", 8);\n    i0.ɵɵtext(15, \"Units\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 7)(17, \"a\", 9);\n    i0.ɵɵtext(18, \"Edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 7)(20, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_1_Template_a_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r1 = restoredCtx.$implicit;\n      const i_r2 = restoredCtx.index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteUser(item_r1._id, i_r2));\n    });\n    i0.ɵɵtext(21, \"Delete\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r1.fName + \" \" + item_r1.lName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"National ID : \", item_r1.userName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Phone : \", item_r1.phone, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Type : \", item_r1.role.roleName, \"\");\n  }\n}\nexport class UsersComponent {\n  constructor(global) {\n    this.global = global;\n    this.global.getUsers().subscribe(res => {\n      this.usersData = res.data;\n    }, () => {}, () => {});\n  }\n  deleteUser(userId, i) {\n    this.global.deleteUser(userId).subscribe(res => {\n      console.log(res);\n      this.usersData.splice(i, 1);\n    }, err => {\n      console.log(err);\n    }, () => {});\n  }\n}\nUsersComponent.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.GlobalService));\n};\nUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersComponent,\n  selectors: [[\"app-users\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"col-12\", \"p-3\"], [\"class\", \"col-12 col-lg-4 p-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"col-lg-4\", \"p-3\"], [1, \"bg-light\", \"card\", \"p-3\"], [1, \"bi\", \"bi-person-fill\"], [1, \"text-gray\"], [1, \"row\"], [1, \"p-2\", \"col-12\", \"col-lg-4\"], [1, \"btn\", \"btn-primary\", \"col-12\"], [1, \"btn\", \"btn-success\", \"col-12\"], [1, \"btn\", \"btn-danger\", \"col-12\", 3, \"click\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, UsersComponent_div_1_Template, 22, 4, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.usersData);\n    }\n  },\n  dependencies: [i2.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAsBYA,8BAAgF;IAE5EA,uBAAiC;IACjCA,0BAAI;IAAAA,YAA6B;IAAAA,iBAAK;IACtCA,qBAAI;IACJA,6BAAsB;IAAAA,YAA+B;IAAAA,iBAAK;IAC1DA,0BAAI;IAAAA,YAAsB;IAAAA,iBAAK;IAC/BA,2BAAI;IAAAA,aAA6B;IAAAA,iBAAK;IACtCA,+BAAiB;IAEyBA,sBAAK;IAAAA,iBAAI;IAE/CA,+BAAiC;IACIA,qBAAI;IAAAA,iBAAI;IAE7CA,+BAAiC;IACGA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,mDAAwB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAI;;;;IAbjFA,eAA6B;IAA7BA,yDAA6B;IAEXA,eAA+B;IAA/BA,6DAA+B;IACjDA,eAAsB;IAAtBA,oDAAsB;IACtBA,eAA6B;IAA7BA,2DAA6B;;;ACrBjD,OAAM,MAAOC,cAAc;EAEzBC,YAAoBC,MAAoB;IAApB,WAAM,GAANA,MAAM;IACxB,IAAI,CAACA,MAAM,CAACC,QAAQ,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAG;MACtC,IAAI,CAACC,SAAS,GAAGD,GAAG,CAACE,IAAI;IAC3B,CAAC,EAAG,MAAI,CAER,CAAC,EAAE,MAAI,CACP,CAAC,CACA;EACH;EAEAC,UAAU,CAACC,MAAa,EAAGC,CAAQ;IACjC,IAAI,CAACR,MAAM,CAACM,UAAU,CAACC,MAAM,CAAC,CAACL,SAAS,CAAEC,GAAG,IAAG;MAC9CM,OAAO,CAACC,GAAG,CAACP,GAAG,CAAC;MAChB,IAAI,CAACC,SAAS,CAACO,MAAM,CAACH,CAAC,EAAC,CAAC,CAAC;IAG5B,CAAC,EACAI,GAAG,IAAG;MACLH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;IAElB,CAAC,EAAC,MAAI,CAEN,CAAC,CAAC;EAEJ;;AA1BWd,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDalBpB,8BAAwB;MACrBA,gEAoBM;MACNA,iBAAM;;;MArB4CA,eAAe;MAAfA,uCAAe","names":["i0","UsersComponent","constructor","global","getUsers","subscribe","res","usersData","data","deleteUser","userId","i","console","log","splice","err","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\mosta\\Desktop\\Project\\crm-project-front\\src\\app\\components\\users\\users.component.html","C:\\Users\\mosta\\Desktop\\Project\\crm-project-front\\src\\app\\components\\users\\users.component.ts"],"sourcesContent":["<!-- \n     <div class=\"row p-3\">\n         <div class=\"p-3 col-12 col-lg-4\" *ngFor=\"let item of usersData , let i = index\">\n             <div class=\"bg-dark text-light card p-3\">\n                 <h4>Name : {{item.fName+ \" \"+ item.lName}}</h4>\n                 <h4>National ID : {{item.userName}}</h4>\n                 <h4>User Type :{{item.role.roleName}}</h4>\n                 <div class=\"row \">\n                 <div class=\"p-2 col-12 col-lg-4\">\n                    <a class=\"btn btn-primary col-12\" routerLink=\"/users/{{item._id}}\">Details</a> \n                </div>\n                 <div class=\"p-2 col-12 col-lg-4\">\n                    <a class=\"btn btn-success col-12\">Edit</a> \n                </div>\n                 <div class=\"p-2 col-12 col-lg-4\">\n                    <a class=\"btn btn-danger col-12\" (click)=\"deleteUser(item._id , i)\">Delete</a> \n                </div>\n                </div>\n             </div>\n         </div> -->\n\n         <div class=\"col-12 p-3\">\n            <div class=\"col-12 col-lg-4 p-3\" *ngFor=\"let item of usersData , let i = index\">\n                <div class=\"bg-light card p-3\">\n                <i class=\"bi bi-person-fill\"></i>\n                <h5>{{item.fName+\" \"+item.lName}}</h5>\n                <hr>\n                <h6 class=\"text-gray\">National ID : {{item.userName}}</h6>\n                <h6>Phone : {{item.phone}}</h6>\n                <h6>Type : {{item.role.roleName}}</h6>\n                <div class=\"row\">\n                    <div class=\"p-2 col-12 col-lg-4\">\n                        <a class=\"btn btn-primary col-12\">Units</a> \n                    </div>\n                    <div class=\"p-2 col-12 col-lg-4\">\n                       <a class=\"btn btn-success col-12\">Edit</a> \n                   </div>\n                    <div class=\"p-2 col-12 col-lg-4\">\n                       <a class=\"btn btn-danger col-12\" (click)=\"deleteUser(item._id , i)\">Delete</a> \n                   </div>\n                   </div>\n                </div>\n            </div>\n            </div>\n    ","import { Component } from '@angular/core';\nimport { GlobalService } from 'src/app/services/global.service';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent {\n  usersData: any;\n  constructor(private global:GlobalService){\n    this.global.getUsers().subscribe((res)=>{\n      this.usersData = res.data\n    } , ()=>{\n  \n    }, ()=>{\n    }\n    )\n  }\n\n  deleteUser(userId:string , i:number){\n    this.global.deleteUser(userId).subscribe((res)=>{\n      console.log(res);\n      this.usersData.splice(i,1)\n    \n           \n    },\n    (err)=>{\n      console.log(err);\n      \n    },()=>{\n\n    })\n\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}